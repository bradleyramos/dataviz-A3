<!DOCTYPE html>
<head>
<meta name = "viewport" content = "width=device-width, initial-scale=1">
<link rel = "stylesheet" href = "./styles.css" type = "text/css" media = "screen" charset = "utf-8">
<script src="https://d3js.org/d3.v6.min.js"></script>
<script src="student.js" type="text/javascript"></script>
</head>

<body>
  <div class = "flex-container">
    <div class = "chatbot">
      <img src="images/bot_icon.png" alt="ChatBot"/>
      <div class = "message" id = "chat_message"> Welcome to our viz! Pick your favorite industry to get started.</div>
    </div>
    <div class = "sectors">
      <div class = "tabs">
        <button class="tablink" onclick="selectSector(event, 'Technology')">Technology</button>
        <button class="tablink" onclick="selectSector(event, 'Finance')">Finance</button>
        <button class="tablink" onclick="selectSector(event, 'Transportation')">Transportation</button>
      </div>
      <div id = "Technology" class = "sector-content">
        Tech
      </div>
      <div id = "Finance" class = "sector-content">
        Fin
      </div>
      <div id = "Transportation" class = "sector-content">
        Transport
      </div>
    </div>
    <div class = "categories">
      <div class = "category-select">
          <button class="catlink" id="catbutton-win" onclick="selectCat(event, 'Winning')">Winning</button>
          <button class="catlink" id="catbutton-act" onclick="selectCat(event, 'Active')">Active</button>
          <button class="catlink" id="catbutton-lose" onclick="selectCat(event, 'Losing')">Losing</button>
        </div>
        <div id = "Winning" class = "cat-content">
          Winning
        </div>
        <div id = "Active" class = "cat-content">
          Active
        </div>
        <div id = "Losing" class = "cat-content">
          Losing
        </div>
    </div>
    <div class = "flex-item">
      <label for = "stock_input">Please provide stock symbol:</label>

      <input type = "text" id = "stock_input" required minlength = '1' maxlength = '4' size = '6'>
      <input type = "button" id = "enter_button" value = "Enter">
    </div>
    <div id = "chart"></div>
  </div>
  <script src = "./bundle.js"></script>
  <script>
    // Update filter tabs, based on code from https://www.w3schools.com/howto/howto_js_tabs.asp
    function selectSector(evt, sectorName) {
        var i, tabcontent, tablinks;
        // Get all elements with class="sector-content" and hide them
        tabcontent = document.getElementsByClassName("sector-content");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(sectorName).style.display = "block";
        evt.currentTarget.className += " active";
      }
      function selectCat(evt, catName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("cat-content");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
      
        // Get all elements with class="tablinks" and remove the class "active"
        tablinks = document.getElementsByClassName("catlink");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
      
        // Show the current tab, and add an "active" class to the button that opened the tab
        document.getElementById(catName).style.display = "block";
        evt.currentTarget.className += " active";
      }
  </script>
</body>